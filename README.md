# SS.lv Real Estate RSS Parser & Notifier

This project fetches real estate listings from the SS.lv RSS feed, parses and analyzes each listing according to your search criteria, and notifies you via an NTFY server if a match is found. All listings and their details are stored in a local SQLite database for further analysis.

## Features
- Fetches and parses listings from SS.lv RSS feeds
- Extracts and stores listing details (location, building type, rooms, floor, area, price, price per mÂ², etc.)
- Analyzes listings based on configurable search parameters
- Sends notifications to an NTFY server for matching listings
- Stores all data in a local SQLite database

## Getting Started

### 1. Clone the repository
```
git clone git@github.com:normisg/ss-parser.git
cd ss-parser
```

### 2. Set up your environment
It is recommended to use a Python virtual environment:
```
python3 -m venv env
source env/bin/activate
```

### 3. Install dependencies
```
pip install -r requirements.txt
```

### 4. Configure your environment variables
Copy the example environment file and edit it with your preferred settings:
```
cp .env.dist .env
```
Edit `.env` to set your RSS feed URL, search parameters, and NTFY credentials. Each parameter is explained in the `.env.dist` file.

### 5. Run the parser
```
python main.py
```

### 6. (Optional) Run with Docker
You can also build and run the project using Docker. To ensure the database (`ss_entries.db`) is persistent, map a volume to the `/data` directory inside the container:

```
docker build -t ss-parser .
docker run --env-file .env -v $(pwd)/data:/data ss-parser
```

This will store the `ss_entries.db` file in the `data` directory of your project folder, ensuring that the database persists even if the container is removed.

### 7. (Optional) Run with Docker Compose
You can also use Docker Compose to simplify running the application with a persistent database. The `docker-compose.yml` file is already configured for this purpose:

To build and start the application:
```
docker-compose up --build
```

To start the application without rebuilding:
```
docker-compose up
```

This will build the Docker image (if needed), start the container, and ensure the `ss_entries.db` file is stored in the `data` directory of your project folder, making the database persistent.

## Notes
- All configuration is done via the `.env` file. See `.env.dist` for parameter descriptions and examples.
- The SQLite database file (`ss_entries.db`) will be created in the project directory.
- All of the code in this project was generated by GitHub Copilot.

---

**Generated by GitHub Copilot**
